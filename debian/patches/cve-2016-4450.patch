Description: Fix NULL Pointer Dereference in CVE-2016-4450
 This patch fixes a NULL pointer dereference while writing client request body
 as described in CVE-2016-4450.
Origin: upstream, http://nginx.org/download/patch.2016.write.txt
Bug-Ubuntu: https://bugs.launchpad.net/bugs/1587577
---
This patch header follows DEP-3: http://dep.debian.net/deps/dep3/
Index: b/src/os/unix/ngx_files.c
===================================================================
--- a/src/os/unix/ngx_files.c
+++ b/src/os/unix/ngx_files.c
@@ -356,6 +356,11 @@
     n = 0;
 
     for ( /* void */ ; cl; cl = cl->next) {
+
+        if (ngx_buf_special(cl->buf)) {
+            continue;
+        }
+
         size = cl->buf->last - cl->buf->pos;
 
         if (prev == cl->buf->pos) {
